<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="">

    <title>Lorenzo Catoni</title>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-168768585-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-168768585-1');
    </script>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- My CSS -->
    <link href="css/palette-dark.css" rel="stylesheet" type="text/css">
    <style>
      body { padding-top: 50px; } /* because navbar fixed-top covers content */

      .my-palette-bg, .my-palette-bg * { background-color: var(--my-palette-bg) !important; }
      .my-palette-onbg, .my-palette-onbg * { background-color: var(--my-palette-onbg) !important; }      
      .my-palette-textprimary, .my-palette-textprimary * { color: var(--my-palette-textprimary) !important; }
      .my-palette-textsecondary, .my-palette-textsecondary * { color:var(--my-palette-textsecondary) !important; }
      .my-palette-textcolor1, .my-palette-textcolor1 * { color: var(--my-palette-color1) !important; }

      .navbar { border-bottom: 1px solid var(--my-palette-bg);}
      
      .my-active, .my-active * { /* for the navbar links */
        text-decoration: underline; 
        color: var(--my-palette-color1) !important;
      }

      a:hover, a:hover * { /* color link on hoover */
        color: var(--my-palette-color1) !important;
        fill: var(--my-palette-color1);
      }
      
      div.my-horizontal-divider { /* horizontal line */
        display: block;
        margin: 1rem auto;
        border: 0;
        border-top: 1px solid var(--my-palette-color1);
      }
      
      #Contacts {font-size: 24px;}
      #Contacts a { text-decoration: none;}

      /* Same breakpoint as bootstrap md */
      div.my-w-smart { width: 60%; }
      img.my-w-smart { width: 17%; }
      @media only screen and (max-width: 768px) {
        div.my-w-smart { width: 95%; }
        img.my-w-smart { width: 30%; }  
      }


      /* Loader */
      .loader,
      .loader:after {
        border-radius: 50%;
        width: 10em;
        height: 10em;
      }
      .loader {
        font-size: 10px;
        margin: auto;
        position: absolute;
        top: 0; left: 0; bottom: 0; right: 0;
        text-indent: -9999em;
        border-top: 1.1em solid rgba(255, 255, 255, 0.2);
        border-right: 1.1em solid rgba(255, 255, 255, 0.2);
        border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);
        border-left: 1.1em solid #ffffff;
        -webkit-transform: translateZ(0);
        -ms-transform: translateZ(0);
        transform: translateZ(0);
        -webkit-animation: load8 1.1s infinite linear;
        animation: load8 1.1s infinite linear;
      }
      @-webkit-keyframes load8 {
        0% {
          -webkit-transform: rotate(0deg);
          transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
          transform: rotate(360deg);
        }
      }
      @keyframes load8 {
        0% {
          -webkit-transform: rotate(0deg);
          transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
          transform: rotate(360deg);
        }
      }
      /* /Loader */
      
    </style>
    <!-- /My CSS -->
  </head>

  <body class="my-palette-bg my-palette-textprimary">

    <!-- Loading -->
    <div class="{{^dinamicload}}d-none{{/dinamicload}}">
      <div class="loader">Loading...</div>
    </div>
    <!-- /Loading -->

    <!-- Main -->
    <div class="{{#dinamicload}} d-none {{/dinamicload}}">

      <!-- Navbar -->
      <nav class="navbar navbar-dark navbar-expand-md my-palette-onbg fixed-top">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#my-navbar" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="my-navbar">
          <ul class="navbar-nav my-palette-textsecondary">
            <li class="nav-item my-active">
              <a class="nav-link" href="#Home">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#Curriculum">Curriculum</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#Contacts">Contacts</a>
            </li>
          </ul>
        </div>
      </nav>
      <!-- /Navbar -->

      <!-- Home -->
      <div class="w-100 d-block py-md-4 py-3" id="Home">
        <img src="{{{home.img.img}}}" class="rounded-circle mx-auto d-block my-w-smart" alt="{{home.img.alt}}">
      

        <div class="w-100 d-block py-md-3 py-2">
          <h1 class="text-center">{{home.name}}</h1>
          <div class="my-horizontal-divider w-25"></div>
          <h3 class="text-center">{{{home.desc}}}</h3>
        </div>
      </div>
      <!-- /Home -->
    
      <!-- Curriculum -->
      <div class="py-md-5 py-4" id="Curriculum">
        <div class="mx-auto rounded my-palette-onbg px-md-3 py-3 my-w-smart">
        {{#curriculum}}
          <h2 class="text-center">{{title}}</h2>
          
          <div class="list-group py-4">
            {{#list}}
            <div class="list-group-item list-group-item-action flex-column align-items-start border-0">
              
              {{#href}}<a href="{{{.}}}" target="_blank">{{/href}}
                <h5 class="font-weight-bold">
                  <u class="my-color-on-hover">{{what}}</u>
                </h5>
              {{#href}}</a>{{/href}}
              
              <p class="my-palette-textsecondary" style="margin-top: -0.3rem;">{{when.start}}{{#when.end}} - {{.}}{{/when.end}}, {{where}}</p>
              <p class="mb-1 pt-1">{{{desc}}}</p>
              <div class="my-horizontal-divider w-75"></div>
            </div>
            {{/list}}
          </div>
          {{/curriculum}}
        </div>
      </div>
      <!-- /Curriculum -->

      <!-- Contacts -->
      <div class="py-md-5 py-4" id="Contacts">
        <div class="mx-auto rounded my-palette-onbg px-md-3 py-3 my-w-smart">
          <h2 class="text-center">Contacts</h2>
          <div class="list-group py-4">
            {{#contacts}}
            <div class="list-group-item border-0" style="padding: 0 .75rem !important;">
              <a href="{{{href}}}" target="_blank">
                <i class="{{fa_logo}}" aria-hidden="true"></i>
                <h3 class="d-inline-block" style="padding: 0 .5rem;">{{uname}}</h3>
                <!-- <small class="my-palette-textsecondary" style="display: none;">{{easteregg}}</small> -->
              </a>
            </div>
            {{/contacts}}
          </div>
        </div>
      </div>
      <!-- /Contacts -->

      <!-- Footer -->
      <div class="py-2">
        {{#footer}}
        <p class="my-palette-textsecondary text-center">{{{.}}}</p>
        {{/footer}}
      </div>
    <!-- /Footer -->

    </div>
    <!-- /Main -->

    <!-- Bootstrap core JavaScript plus Mustache plus Fontawesome
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script defer src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script defer src=https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.1.0/mustache.min.js></script>
    <script defer src="https://use.fontawesome.com/846aa8fc5b.js"></script>

    <!-- My Javascript -->
    <script src="me_json.js">/* Import data from this file*/</script>
    <script>
      // fill page according to content of me_json with mustache
      // https://github.com/janl/mustache.js
      $('script:nth-last-child(2)').ready(function(){
        let rendered_html = Mustache.render($('body').html(), me_json);
        $('body').html(rendered_html);
      });
      //template.siblings().last().remove(); // remove last horizontal divider, i want it ony between two elements


      // Change active fragment in navbar on click, based on this post
      // https://stackoverflow.com/questions/39851953/dynamically-changing-active-class-or-adding-navbar-to-each-page
      $('.nav-link').click( function() {
        $(this).parent().siblings().removeClass('my-active');
        $(this).parent().addClass('my-active');
      });
      
      // Change active fragment in navbar on scroll, based on this post
      // https://stackoverflow.com/questions/9979827/change-active-menu-item-on-page-scroll
      let navbar = $(".navbar"), // Cache selectors
        navbarHeight = navbar.outerHeight()+15,
        navbarItems = navbar.find("a"), // All navbar navigation links
        scrollItems = navbarItems.map(function(){ // Anchors corresponding to navbar links
          let item = $($(this).attr("href"));
          if (item.length) return item;
        });
      // Bind to scroll
      $(window).scroll(function(){
        let fromTop = $(this).scrollTop()+navbarHeight; // Get container scroll position

        let cur = scrollItems.map(function(){ // Get id of items i have scrolled past
          if ($(this).offset().top < fromTop) return this;
        });
        cur = cur[cur.length-1]; // Get the id of the current element
        let id = cur && cur.length ? cur[0].id : "";

        navbarItems.parent().removeClass("my-active") // Set/remove active class
          .end().filter("[href='#"+id+"']").parent().addClass("my-active");
      });

      // Do fun animation on hover for Contacts section
      /*
      const MD_BP = 768; // Same width at bootstrap md breakpoint
      $("#Contacts a").hover(
        function(){ // Handler in
          if($(document).width() > MD_BP) 
            $(this).find("small").css("display", "");
        },
        function(){ // Handler out
          if($(document).width() > MD_BP)
            $(this).find("small").css("display", "none");
        }
      );*/
    </script>
    <!-- /My Javascript -->
  </body>
</html>
